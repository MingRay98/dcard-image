(this["webpackJsonpdcard-image"]=this["webpackJsonpdcard-image"]||[]).push([[3],{22:function(e,t,r){"use strict";r.r(t);var n=r(2),a=r(3),o=r(4),i=r(6),l=r(5),c=r(7),s=r(0),p=r.n(s),d={container:{display:"flex",width:"75vw",height:"98vh",borderRadius:"50px",borderStyle:"solid",borderWidth:"2px",flexWrap:"wrap",margin:"auto",justifyContent:"space-around",overflowY:"auto"},loading:{color:"pink"},postContainer:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",backgroundColor:"wheat",margin:"5%"},postTitle:{width:"100%",textAlign:"center",margin:"5%",color:"darkred",fontSize:"150%",fontFamily:"\u5fae\u8edf\u6b63\u9ed1\u9ad4"},imageDiv:{margin:"5%",borderRadius:"50rem",width:"25vw",height:"25vw",border:"solid",overflow:"hidden",display:"flex",justifyContent:"center"},imageContainer:{width:"auto",height:"25vw",margin:"auto"}};function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var m=function(e){function t(e){var r;return Object(a.a)(this,t),(r=Object(i.a)(this,Object(l.a)(t).call(this,e))).getExcerpt=function(e){var t=e.target.parentElement.parentElement.parentElement.childNodes[2];console.log(t);var r=e.clientX+document.body.scrollLeft+20,n=e.clientY+document.body.scrollTop-5;t.style.left=r+"px",t.style.top=n+"px",t.style.display="block"},r.outExcerpt=function(e){e.target.parentElement.parentElement.parentElement.childNodes[2].style.display="none"},r.state={error:null,loading:!0,items:[]},r}return Object(c.a)(t,e),Object(o.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this;this.setState((function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(r,!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e,{items:[],loading:!0})}));var r="https://www.dcard.tw/_api/forums/".concat(e.type,"/posts?popular=true");console.log(r),fetch(r,{mode:"cors"}).then((function(e){return e.json()})).then((function(e){var r=t.state.items;r.push(e),t.setState({loading:!1,items:r})}),(function(e){t.setState({loading:!1,error:e})}))}},{key:"render",value:function(){var e=this,t=this.state,r=t.error,n=t.loading,a=t.items;return p.a.createElement("div",{style:d.container},n&&p.a.createElement("div",{style:d.loading},"Loading..."),!n&&r&&p.a.createElement("div",null,"Error: ",r.message),!n&&!r&&a[0]&&a[0].map((function(t){return p.a.createElement("div",{style:d.postContainer},p.a.createElement("div",{style:d.postTitle},t.title),t.media.map((function(r){return p.a.createElement("div",null,p.a.createElement("div",{style:d.imageDiv},p.a.createElement("a",{href:"https://www.dcard.tw/f/".concat(e.props.type,"/p/").concat(t.id),target:"_blank"},p.a.createElement("img",{style:d.imageContainer,alt:"",src:r.url}))),p.a.createElement("div",{style:{display:"none",position:"absolute"}},t.excerpt))})))})))}}]),t}(s.Component);t.default=m}}]);
//# sourceMappingURL=3.d5c308e1.chunk.js.map