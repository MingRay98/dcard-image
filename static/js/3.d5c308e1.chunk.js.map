{"version":3,"sources":["component/image/styles.js","component/image/index.jsx"],"names":["container","display","width","height","borderRadius","borderStyle","borderWidth","flexWrap","margin","justifyContent","overflowY","loading","color","postContainer","backgroundColor","postTitle","textAlign","fontSize","fontFamily","imageDiv","border","overflow","imageContainer","pet","props","getExcerpt","e","element","target","parentElement","childNodes","console","log","x","clientX","document","body","scrollLeft","y","clientY","scrollTop","style","left","top","outExcerpt","state","error","items","nextProps","this","setState","ps","url","type","fetch","mode","then","res","json","result","push","styles","message","map","post","title","media","imgData","href","id","alt","src","position","excerpt","Component"],"mappings":"sLAAe,GACbA,UAAU,CACRC,QAAS,OACTC,MAAO,OACPC,OAAQ,OACRC,aAAc,OACdC,YAAa,QACbC,YAAa,MACbC,SAAU,OACVC,OAAQ,OACRC,eAAgB,eAChBC,UAAW,QAEbC,QAAQ,CACNC,MAAO,QAETC,cAAc,CACZZ,QAAS,OACTM,SAAU,OACVE,eAAgB,eAChBK,gBAAiB,QACjBN,OAAQ,MAEVO,UAAU,CACRb,MAAO,OACPc,UAAW,SACXR,OAAQ,KACRI,MAAO,UACPK,SAAU,OACVC,WAAY,kCAEdC,SAAS,CACPX,OAAQ,KACRJ,aAAc,QACdF,MAAO,OACPC,OAAQ,OACRiB,OAAQ,QACRC,SAAU,SACVpB,QAAS,OACTQ,eAAgB,UAElBa,eAAe,CACbpB,MAAO,OACPC,OAAQ,OACRK,OAAQ,S,kOCzCNe,E,YACJ,WAAYC,GAAQ,IAAD,8BACjB,4CAAMA,KAQRC,WAAa,SAACC,GACZ,IAAMC,EAAUD,EAAEE,OAAOC,cAAcA,cAAcA,cAAcC,WAAW,GAC9EC,QAAQC,IAAIL,GACZ,IAAIM,EAAIP,EAAEQ,QAAUC,SAASC,KAAKC,WAAa,GAC3CC,EAAIZ,EAAEa,QAAUJ,SAASC,KAAKI,UAAY,EAC9Cb,EAAQc,MAAMC,KAAOT,EAAI,KACzBN,EAAQc,MAAME,IAAML,EAAI,KACxBX,EAAQc,MAAMxC,QAAU,SAhBP,EAmBnB2C,WAAa,SAAClB,GACIA,EAAEE,OAAOC,cAAcA,cAAcA,cAAcC,WAAW,GACtEW,MAAMxC,QAAU,QAnBxB,EAAK4C,MAAQ,CACXC,MAAO,KACPnC,SAAS,EACToC,MAAO,IALQ,E,uFAwBOC,GAAY,IAAD,OACnCC,KAAKC,UAAS,SAACC,GAAD,O,yVAAA,IAAaA,EAAb,CAAiBJ,MAAO,GAAIpC,SAAS,OACnD,IAAMyC,EAAG,2CAAuCJ,EAAUK,KAAjD,uBACTtB,QAAQC,IAAIoB,GACZE,MAAMF,EAAK,CACTG,KAAM,SAELC,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MACC,SAAAG,GACE,IAAMZ,EAAQ,EAAKF,MAAME,MACzBA,EAAMa,KAAKD,GACX,EAAKT,SAAS,CACZvC,SAAS,EACToC,MAAOA,OAGX,SAAAD,GACE,EAAKI,SAAS,CACZvC,SAAS,EACTmC,e,+BAMA,IAAD,SACyBG,KAAKJ,MAA9BC,EADA,EACAA,MAAOnC,EADP,EACOA,QAASoC,EADhB,EACgBA,MACvB,OACE,yBAAKN,MAAOoB,EAAO7D,WAChBW,GAAW,yBAAK8B,MAAOoB,EAAOlD,SAAnB,eACVA,GAAWmC,GAAS,uCAAaA,EAAMgB,UACvCnD,IAAYmC,GAASC,EAAM,IAAMA,EAAM,GAAGgB,KAAI,SAAAC,GAAI,OAClD,yBAAKvB,MAAOoB,EAAOhD,eACjB,yBAAK4B,MAAOoB,EAAO9C,WAAYiD,EAAKC,OACnCD,EAAKE,MAAMH,KAAI,SAAAI,GAAO,OACrB,6BACE,yBAAK1B,MAAOoB,EAAO1C,UACjB,uBAAGiD,KAAI,iCAA4B,EAAK5C,MAAM6B,KAAvC,cAAiDW,EAAKK,IAAMzC,OAAO,UACxE,yBAAKa,MAAOoB,EAAOvC,eAAgBgD,IAAI,GAAGC,IAAKJ,EAAQf,QAG3D,yBAAKX,MAAO,CAACxC,QAAS,OAAQuE,SAAU,aAAcR,EAAKS,sB,GAnEzDC,aA4EHnD","file":"static/js/3.d5c308e1.chunk.js","sourcesContent":["export default {\r\n  container:{\r\n    display: 'flex',\r\n    width: '75vw',\r\n    height: '98vh',\r\n    borderRadius: '50px',\r\n    borderStyle: 'solid',\r\n    borderWidth: '2px',\r\n    flexWrap: 'wrap',\r\n    margin: 'auto',\r\n    justifyContent: 'space-around',\r\n    overflowY: 'auto',\r\n  },\r\n  loading:{\r\n    color: 'pink',\r\n  },\r\n  postContainer:{\r\n    display: 'flex',\r\n    flexWrap: 'wrap', \r\n    justifyContent: 'space-around',\r\n    backgroundColor: 'wheat',\r\n    margin: '5%',\r\n  },\r\n  postTitle:{\r\n    width: '100%',\r\n    textAlign: 'center',\r\n    margin: '5%',\r\n    color: 'darkred',\r\n    fontSize: '150%',\r\n    fontFamily: '微軟正黑體'\r\n  },\r\n  imageDiv:{\r\n    margin: '5%',\r\n    borderRadius: '50rem',\r\n    width: '25vw',\r\n    height: '25vw',\r\n    border: 'solid',\r\n    overflow: 'hidden',\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n  },\r\n  imageContainer:{\r\n    width: 'auto',\r\n    height: '25vw',\r\n    margin: 'auto',\r\n  },\r\n}","import React, {Component} from \"react\";\r\nimport styles from './styles'\r\n\r\nclass pet extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      error: null,\r\n      loading: true,\r\n      items: []\r\n    };\r\n  }\r\n\r\n  getExcerpt = (e) => {\r\n    const element = e.target.parentElement.parentElement.parentElement.childNodes[2]\r\n    console.log(element)\r\n    let x = e.clientX + document.body.scrollLeft + 20;\r\n    let y = e.clientY + document.body.scrollTop - 5;\r\n    element.style.left = x + \"px\";\r\n    element.style.top = y + \"px\";\r\n    element.style.display = \"block\";\r\n  }\r\n\r\n  outExcerpt = (e) => {\r\n    const element = e.target.parentElement.parentElement.parentElement.childNodes[2]\r\n    element.style.display = \"none\";\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    this.setState((ps) => ({...ps, items: [], loading: true}));\r\n    const url = `https://www.dcard.tw/_api/forums/${nextProps.type}/posts?popular=true`\r\n    console.log(url)\r\n    fetch(url, {\r\n      mode: \"cors\"\r\n    })\r\n      .then(res => res.json())\r\n      .then(\r\n        result => {\r\n          const items = this.state.items;\r\n          items.push(result);\r\n          this.setState({\r\n            loading: false,\r\n            items: items\r\n          });\r\n        },\r\n        error => {\r\n          this.setState({\r\n            loading: false,\r\n            error\r\n          });\r\n        }\r\n      );\r\n  }\r\n\r\n  render() {\r\n    const {error, loading, items} = this.state;\r\n    return (\r\n      <div style={styles.container}>\r\n        {loading && <div style={styles.loading} >Loading...</div>}\r\n        {!loading && error && <div>Error: {error.message}</div>}\r\n        {!loading && !error && items[0] && items[0].map(post =>\r\n          <div style={styles.postContainer}>\r\n            <div style={styles.postTitle}>{post.title}</div>\r\n            {post.media.map(imgData =>\r\n              <div>\r\n                <div style={styles.imageDiv}>\r\n                  <a href={`https://www.dcard.tw/f/${this.props.type}/p/${post.id}`} target=\"_blank\">\r\n                    <img style={styles.imageContainer} alt=\"\" src={imgData.url} />\r\n                  </a>\r\n                </div>\r\n                <div style={{display: 'none', position: 'absolute'}}>{post.excerpt}</div>\r\n              </div>\r\n            )}\r\n          </div>)}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default pet;\r\n"],"sourceRoot":""}