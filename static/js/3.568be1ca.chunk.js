(this["webpackJsonpdcard-image"]=this["webpackJsonpdcard-image"]||[]).push([[3],{96:function(e,t,r){"use strict";r.r(t);var n=r(40),o=r(17),a=r(18),i=r(20),l=r(19),c=r(22),s=r(0),p=r.n(s),d=r(21),u={container:{display:"flex",width:"85vw",height:"90vh",flexWrap:"wrap",margin:"auto",justifyContent:"space-around",overflowY:"auto"},loading:{color:"pink",display:"flex",alignItems:"center",fontSize:"50px",fontWeight:"bold"},postContainer:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",backgroundColor:"wheat",margin:"2%",borderRadius:"50px",width:"100%",":hover":{boxShadow:"-5px 9px 14px 0px black"}},postTitle:{width:"inherit",textAlign:"center",margin:"5%",color:"darkred",fontSize:"150%",fontFamily:"\u5fae\u8edf\u6b63\u9ed1\u9ad4",fontWeight:"bold",cursor:"pointer",":hover":{color:"black"}},imageDiv:{margin:"5% 0",borderRadius:"1rem",width:"auto",maxWidth:"60vw",height:"25vw",border:"solid",overflow:"hidden",":hover":{boxShadow:"-5px 9px 14px 0px black"},"@media only screen and (max-width: 550px)":{width:"auto",height:"auto"}},imageContainer:{width:"auto",height:"25vw",margin:"auto","@media only screen and (max-width: 550px)":{height:"65vw"}},postExcerpt:{margin:"0 5% 5% 5%",fontSize:"125%",fontFamily:"\u5fae\u8edf\u6b63\u9ed1\u9ad4",fontWeight:"bold"}};function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(r,!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f=function(e){function t(e){var r;return Object(o.a)(this,t),(r=Object(i.a)(this,Object(l.a)(t).call(this,e))).getExcerpt=function(e){var t=e.target.parentElement.parentElement.parentElement.childNodes[2];console.log(t);var r=e.clientX+document.body.scrollLeft+20,n=e.clientY+document.body.scrollTop-5;t.style.left=r+"px",t.style.top=n+"px",t.style.display="block"},r.outExcerpt=function(e){e.target.parentElement.parentElement.parentElement.childNodes[2].style.display="none"},r.getDcardAPIPost=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.props;r.setState((function(e){return h({},e,{items:[],loading:!0})}));var t="https://www.dcard.tw/_api/forums/".concat(e.type,"/posts?popular=true");console.log(t),fetch(t,{mode:"cors"}).then((function(e){return e.json()})).then((function(e){var t=r.state.items;t.push(e),r.setState({loading:!1,items:t})}),(function(e){r.setState({loading:!1,error:e})}))},r.state={error:null,loading:!0,items:[]},r}return Object(c.a)(t,e),Object(a.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.getDcardAPIPost(e)}},{key:"componentDidMount",value:function(){this.getDcardAPIPost()}},{key:"render",value:function(){var e=this,t=this.state,r=t.error,n=t.loading,o=t.items;return p.a.createElement("div",{style:u.container},n&&p.a.createElement("div",{style:u.loading},"Loading..."),!n&&r&&p.a.createElement("div",null,"Error: ",r.message),!n&&!r&&o&&!o[0].error&&o[0].map((function(t){return p.a.createElement("div",{style:u.postContainer,key:t.createdAt},p.a.createElement("div",{style:u.postTitle,key:t.id,onClick:function(){return window.open("https://www.dcard.tw/f/".concat(e.props.type,"/p/").concat(t.id))},target:"_blank"},t.title),t.media.map((function(e){return p.a.createElement("div",null,p.a.createElement("div",{key:e.url,style:u.imageDiv},p.a.createElement("a",{style:{display:"flex"},href:e.url,target:"_blank"},p.a.createElement("img",{style:u.imageContainer,alt:"",src:e.url}))))})),!1===!t.media&&p.a.createElement("div",{style:u.postExcerpt},t.excerpt,"... ",p.a.createElement("div",{style:{color:"red"},onClick:function(){return alert("\u9a19\u4f60\u7684\uff0c\u4f60\u8981\u9ede\u6a19\u984c")}},"(\u95b1\u89bd\u5168\u90e8)")))})))}}]),t}(s.Component);t.default=Object(d.a)(f)}}]);
//# sourceMappingURL=3.568be1ca.chunk.js.map